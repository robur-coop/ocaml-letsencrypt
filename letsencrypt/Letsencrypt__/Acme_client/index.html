<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Acme_client (letsencrypt.Letsencrypt__.Acme_client)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">letsencrypt</a> &#x00BB; <a href="../index.html">Letsencrypt__</a> &#x00BB; Acme_client</nav><h1>Module <code>Letsencrypt__.Acme_client</code></h1></header><dl><dt class="spec value" id="val-src"><a href="#val-src" class="anchor"></a><code><span class="keyword">val</span> src : Logs.src</code></dt></dl><div class="spec module" id="module-Log"><a href="#module-Log" class="anchor"></a><code><span class="keyword">module</span> Log : Logs.LOG</code></div><dl><dt class="spec value" id="val-guard"><a href="#val-guard" class="anchor"></a><code><span class="keyword">val</span> guard : bool <span>&#45;&gt;</span> <span><span>(unit, <span class="type-var">'a</span>)</span> Stdlib.result</span> <span>&#45;&gt;</span> <span><span>(unit, <span class="type-var">'a</span>)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-location"><a href="#val-location" class="anchor"></a><code><span class="keyword">val</span> location : Cohttp.Header.t <span>&#45;&gt;</span> <span><span>(Uri.t, <span>[&gt; Rresult.R.msg ]</span>)</span> Result.result</span></code></dt><dt class="spec value" id="val-key_authorization"><a href="#val-key_authorization" class="anchor"></a><code><span class="keyword">val</span> key_authorization : Mirage_crypto_pk.Rsa.priv <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.account_key" class="anchored"><td class="def field"><a href="#type-t.account_key" class="anchor"></a><code>account_key : Mirage_crypto_pk.Rsa.priv;</code></td></tr><tr id="type-t.next_nonce" class="anchored"><td class="def field"><a href="#type-t.next_nonce" class="anchor"></a><code><span class="keyword">mutable</span> next_nonce : string;</code></td></tr><tr id="type-t.d" class="anchored"><td class="def field"><a href="#type-t.d" class="anchor"></a><code>d : <a href="../../Letsencrypt__Acme_common/Directory/index.html#type-t">Letsencrypt__.Acme_common.Directory.t</a>;</code></td></tr><tr id="type-t.account_url" class="anchored"><td class="def field"><a href="#type-t.account_url" class="anchor"></a><code>account_url : Uri.t;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-solver"><a href="#type-solver" class="anchor"></a><code><span class="keyword">type</span> solver</code><code> = </code><code>{</code><table class="record"><tr id="type-solver.typ" class="anchored"><td class="def field"><a href="#type-solver.typ" class="anchor"></a><code>typ : <a href="../../Letsencrypt__Acme_common/Challenge/index.html#type-typ">Letsencrypt__.Acme_common.Challenge.typ</a>;</code></td></tr><tr id="type-solver.solve_challenge" class="anchored"><td class="def field"><a href="#type-solver.solve_challenge" class="anchor"></a><code>solve_challenge : <span>token:string</span> <span>&#45;&gt;</span> <span>key_authorization:string</span> <span>&#45;&gt;</span> <span><span>[ `host ]</span> Domain_name.t</span> <span>&#45;&gt;</span> <span><span><span>(unit, <span>[ <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span> Lwt.t</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-error_in"><a href="#val-error_in" class="anchor"></a><code><span class="keyword">val</span> error_in : string <span>&#45;&gt;</span> Cohttp.Code.status_code <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span>[&gt; Rresult.R.msg ]</span>)</span> Result.result</span></code></dt><dt class="spec value" id="val-extract_nonce"><a href="#val-extract_nonce" class="anchor"></a><code><span class="keyword">val</span> extract_nonce : Cohttp.Header.t <span>&#45;&gt;</span> <span><span>(string, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-http_solver"><a href="#val-http_solver" class="anchor"></a><code><span class="keyword">val</span> http_solver : <span>(<span><span>[ `host ]</span> Domain_name.t</span> <span>&#45;&gt;</span> <span>prefix:string</span> <span>&#45;&gt;</span> <span>token:string</span> <span>&#45;&gt;</span> <span>content:string</span> <span>&#45;&gt;</span> <span><span><span>(unit, <span>[ <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-solver">solver</a></code></dt><dt class="spec value" id="val-print_http"><a href="#val-print_http" class="anchor"></a><code><span class="keyword">val</span> print_http : <a href="index.html#type-solver">solver</a></code></dt><dt class="spec value" id="val-dns_solver"><a href="#val-dns_solver" class="anchor"></a><code><span class="keyword">val</span> dns_solver : <span>(<span><span>[ `raw ]</span> Domain_name.t</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span><span>(unit, <span>[ <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-solver">solver</a></code></dt><dt class="spec value" id="val-print_dns"><a href="#val-print_dns" class="anchor"></a><code><span class="keyword">val</span> print_dns : <a href="index.html#type-solver">solver</a></code></dt><dt class="spec value" id="val-nsupdate"><a href="#val-nsupdate" class="anchor"></a><code><span class="keyword">val</span> nsupdate : <span>?&#8288;proto:Dns.proto</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> Ptime.t)</span> <span>&#45;&gt;</span> <span>(Cstruct.t <span>&#45;&gt;</span> <span><span><span>(unit, <span>[ <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span>?&#8288;recv:<span>(unit <span>&#45;&gt;</span> <span><span><span>(Cstruct.t, <span>[ <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span> Lwt.t</span>)</span></span> <span>&#45;&gt;</span> <span>zone:<span><span class="type-var">'a</span> Domain_name.t</span></span> <span>&#45;&gt;</span> <span>keyname:<span><span class="type-var">'b</span> Domain_name.t</span></span> <span>&#45;&gt;</span> Dns.Dnskey.t <span>&#45;&gt;</span> <a href="index.html#type-solver">solver</a></code></dt><dt class="spec value" id="val-alpn_solver"><a href="#val-alpn_solver" class="anchor"></a><code><span class="keyword">val</span> alpn_solver : <span>(<span><span>[ `host ]</span> Domain_name.t</span> <span>&#45;&gt;</span> <span>alpn:string</span> <span>&#45;&gt;</span> <span>[&gt; <span>`RSA of Mirage_crypto_pk.Rsa.priv</span> ]</span> <span>&#45;&gt;</span> X509.Certificate.t <span>&#45;&gt;</span> <span><span><span>(unit, Rresult.R.msg)</span> Stdlib.result</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-solver">solver</a></code></dt><dt class="spec value" id="val-print_alpn"><a href="#val-print_alpn" class="anchor"></a><code><span class="keyword">val</span> print_alpn : <a href="index.html#type-solver">solver</a></code></dt></dl><div class="spec module" id="module-Make"><a href="#module-Make" class="anchor"></a><code><span class="keyword">module</span> <a href="Make/index.html">Make</a> : <span class="keyword">functor</span> (<a href="Make/index.html#argument-1-Http">Http</a> : Cohttp_lwt.S.Client) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></div></body></html>